<IfModule mod_headers.c>
    # Allow CORS requests from any origin
    SetEnvIf Origin ".*" AccessControlAllowOrigin=$0
    Header set Access-Control-Allow-Origin %{AccessControlAllowOrigin}e
    Header set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
    Header set Access-Control-Allow-Headers "Content-Type, Authorization, Accept, Accept-Language, Accept-Encoding"
    Header set Access-Control-Allow-Credentials true
    Header always set Content-Type "application/json"
</IfModule>

# Handle CORS preflight requests for all methods
RewriteEngine On
RewriteCond %{REQUEST_METHOD} OPTIONS
RewriteRule ^(.*)$ $1 [R=200,L]